{
  "tests": [
    {
      "expect": "Alice",
      "inputs": {
        "name": "Alice"
      },
      "module": "Greeting Module"
    },
    {
      "expect": "anonymous user",
      "inputs": {
        "name": ""
      },
      "module": "Greeting Module"
    },
    {
      "expect": "pass",
      "inputs": {
        "score": 95
      },
      "module": "Score Gate Module"
    },
    {
      "expect": "fail",
      "inputs": {
        "score": 42
      },
      "module": "Score Gate Module"
    },
    {
      "expect": "Bob",
      "inputs": {
        "name": "Bob"
      },
      "module": "Echo Module"
    },
    {
      "expected": 200,
      "inputs": {},
      "module": "Arxiv Demo Module",
      "moduleAst": {
        "flow": [
          {
            "args": {
              "intoStatus": "status",
              "intoType": "ctype",
              "url": "fixture://agents/loomweaver/fixtures/arxiv_minimal.atom.xml"
            },
            "verb": "Fetch"
          },
          {
            "args": {
              "expr": {
                "name": "status",
                "type": "Identifier"
              }
            },
            "verb": "Return"
          }
        ],
        "name": "Arxiv Demo Module"
      },
      "name": "arxiv-status"
    },
    {
      "expected": "application/atom+xml",
      "inputs": {},
      "module": "Arxiv Demo Module",
      "moduleAst": {
        "flow": [
          {
            "args": {
              "intoStatus": "status",
              "intoType": "ctype",
              "url": "fixture://agents/loomweaver/fixtures/arxiv_minimal.atom.xml"
            },
            "verb": "Fetch"
          },
          {
            "args": {
              "expr": {
                "name": "ctype",
                "type": "Identifier"
              }
            },
            "verb": "Return"
          }
        ],
        "name": "Arxiv Demo Module"
      },
      "name": "arxiv-ctype"
    },
    {
      "enforce": true,
      "expectError": "network fetch disallowed under capability enforcement",
      "inputs": {},
      "module": "Arxiv Demo Module",
      "moduleAst": {
        "flow": [
          {
            "args": {
              "into": "xml",
              "url": "fixture://agents/loomweaver/fixtures/arxiv_minimal.atom.xml"
            },
            "verb": "Fetch"
          },
          {
            "args": {
              "expr": {
                "name": "xml",
                "type": "Identifier"
              }
            },
            "verb": "Return"
          }
        ],
        "name": "Arxiv Demo Module"
      },
      "name": "arxiv-enforce-block"
    },
    {
      "expectContains": "entry",
      "inputs": {
        "query": "all:graph"
      },
      "module": "Arxiv Search",
      "moduleAst": {
        "flow": [
          {
            "args": {
              "into": "xml",
              "intoBytes": "bytes",
              "intoStatus": "status",
              "url": "fixture://agents/loomweaver/fixtures/arxiv_minimal.atom.xml"
            },
            "verb": "Fetch"
          },
          {
            "args": {
              "expr": {
                "name": "xml",
                "type": "Identifier"
              }
            },
            "verb": "Return"
          }
        ],
        "name": "Arxiv Search"
      },
      "name": "arxiv-search-contains-entry"
    }
  ]
}
