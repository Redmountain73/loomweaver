{
  "modules": [
    {
      "astVersion": "2.1.0",
      "examples": [
        "Example dialogue: User: \"hi\" â†’ Output: \"Hello, hi!\""
      ],
      "flow": [
        {
          "args": {
            "expr": {
              "name": "name",
              "type": "Identifier"
            },
            "var": "message"
          },
          "verb": "Make"
        },
        {
          "args": {
            "branches": [
              {
                "steps": [
                  {
                    "args": {
                      "expr": {
                        "type": "String",
                        "value": "anonymous user"
                      }
                    },
                    "verb": "Return"
                  }
                ],
                "when": {
                  "left": {
                    "name": "name",
                    "type": "Identifier"
                  },
                  "op": "==",
                  "right": {
                    "type": "String",
                    "value": ""
                  },
                  "type": "Binary"
                }
              },
              {
                "otherwise": true,
                "steps": [
                  {
                    "args": {
                      "expr": {
                        "name": "message",
                        "type": "Identifier"
                      }
                    },
                    "verb": "Return"
                  }
                ]
              }
            ]
          },
          "verb": "Choose"
        }
      ],
      "inputs": [
        "name (Text)"
      ],
      "name": "Greeting Module",
      "outputs": [
        "message (Text)"
      ],
      "purpose": "Generate a friendly greeting. Maintain warmth and clarity.",
      "successCriteria": [
        "Always return a greeting string.",
        "Never fail silently."
      ],
      "type": "Module",
      "version": "1.0",
      "tests": []
    },
    {
      "astVersion": "2.1.0",
      "examples": [],
      "flow": [
        {
          "args": {
            "branches": [
              {
                "steps": [
                  {
                    "args": {
                      "expr": {
                        "type": "String",
                        "value": "pass"
                      }
                    },
                    "verb": "Return"
                  }
                ],
                "when": {
                  "left": {
                    "name": "score",
                    "type": "Identifier"
                  },
                  "op": ">=",
                  "right": {
                    "type": "Number",
                    "value": 90
                  },
                  "type": "Binary"
                }
              },
              {
                "otherwise": true,
                "steps": [
                  {
                    "args": {
                      "expr": {
                        "type": "String",
                        "value": "fail"
                      }
                    },
                    "verb": "Return"
                  }
                ]
              }
            ]
          },
          "verb": "Choose"
        }
      ],
      "inputs": [
        "score (Number)"
      ],
      "name": "Score Gate Module",
      "outputs": [
        "verdict (Text)"
      ],
      "purpose": "Evaluate a numeric score. Produce a simple pass/fail verdict.",
      "successCriteria": [
        "Numeric comparison uses thresholds as written.",
        "Output is always one of: \"pass\", \"fail\"."
      ],
      "type": "Module",
      "version": "1.0",
      "tests": []
    },
    {
      "astVersion": "2.1.0",
      "examples": [],
      "flow": [
        {
          "args": {
            "expr": {
              "name": "name",
              "type": "Identifier"
            },
            "var": "echo"
          },
          "verb": "Make"
        },
        {
          "args": {
            "expr": {
              "name": "echo",
              "type": "Identifier"
            }
          },
          "verb": "Return"
        }
      ],
      "inputs": [
        "name (Text)"
      ],
      "name": "Echo Module",
      "outputs": [
        "echo (Text)"
      ],
      "purpose": "Echo back a provided name. Stay minimal and deterministic.",
      "successCriteria": [],
      "type": "Module",
      "version": "1.0",
      "tests": []
    },
    {
      "flow": [
        {
          "args": {
            "from": "xml",
            "into": "title",
            "op": "xml.firstTitle"
          },
          "verb": "Call"
        },
        {
          "args": {
            "expr": {
              "name": "title",
              "type": "Identifier"
            }
          },
          "verb": "Return"
        }
      ],
      "name": "Summarize Title",
      "type": "Module",
      "astVersion": "2.1.0",
      "version": "1.0",
      "purpose": "",
      "inputs": [],
      "outputs": [],
      "tests": [],
      "successCriteria": [],
      "examples": []
    },
    {
      "flow": [
        {
          "args": {
            "expr": {
              "left": {
                "type": "String",
                "value": "Found paper: "
              },
              "op": "+",
              "right": {
                "name": "title",
                "type": "Identifier"
              },
              "type": "Binary"
            },
            "name": "report"
          },
          "verb": "Make"
        },
        {
          "args": {
            "expr": {
              "name": "report",
              "type": "Identifier"
            }
          },
          "verb": "Show"
        },
        {
          "args": {
            "expr": {
              "name": "report",
              "type": "Identifier"
            }
          },
          "verb": "Return"
        }
      ],
      "name": "Report Result",
      "type": "Module",
      "astVersion": "2.1.0",
      "version": "1.0",
      "purpose": "",
      "inputs": [],
      "outputs": [],
      "tests": [],
      "successCriteria": [],
      "examples": []
    },
    {
      "flow": [
        {
          "args": {
            "into": "xml",
            "intoBytes": "bytes",
            "intoStatus": "status",
            "url": "fixture://agents/loomweaver/fixtures/arxiv_minimal.atom.xml"
          },
          "verb": "Call"
        },
        {
          "args": {
            "from": "xml",
            "into": "title",
            "op": "xml.firstTitle"
          },
          "verb": "Call"
        },
        {
          "args": {
            "expr": {
              "left": {
                "type": "String",
                "value": "Found paper: "
              },
              "op": "+",
              "right": {
                "name": "title",
                "type": "Identifier"
              },
              "type": "Binary"
            },
            "name": "report"
          },
          "verb": "Make"
        },
        {
          "args": {
            "expr": {
              "name": "report",
              "type": "Identifier"
            }
          },
          "verb": "Show"
        },
        {
          "args": {
            "expr": {
              "name": "report",
              "type": "Identifier"
            }
          },
          "verb": "Return"
        }
      ],
      "name": "ArxivAgent E2E",
      "type": "Module",
      "astVersion": "2.1.0",
      "version": "1.0",
      "purpose": "",
      "inputs": [],
      "outputs": [],
      "tests": [],
      "successCriteria": [],
      "examples": []
    }
  ]
}
